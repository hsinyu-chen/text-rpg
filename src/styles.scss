@import '@angular/material/prebuilt-themes/pink-bluegrey.css';

@font-face {
    font-family: 'Iansui';
    src: url('/assets/Iansui-Regular.woff2') format('woff2');
    font-weight: normal;
    font-style: normal;
}


:root {
    --bg-main: #121212;
    --bg-surface: #1e1e1e;
    --bg-surface-dark: #121212;
    --bg-dialog: #1e1e1e;
    --bg-sidebar: #1e1e1e;
    --border-color: rgba(255, 255, 255, 0.1);
    --border-color-strong: rgba(255, 255, 255, 0.2);
    --text-main: #e0e0e0;
}

html,
body {
    height: 100%;
}

// Override Markdown Blockquote (Disclaimer) styles to be neutral
blockquote {
    border-left: 4px solid #555 !important;
    background-color: transparent !important;
    color: #aaa !important;
    margin: 1em 0;
    padding-left: 1em;
}

body {
    margin: 0;
    font-family: Roboto, "Helvetica Neue", sans-serif;
    background-color: var(--bg-main);
    color: var(--text-main);
}

/* Custom Typography for Story */
.prose-content {
    font-family: var(--app-font-family, 'Georgia', 'Cambria', 'Times New Roman', serif);
    font-size: var(--app-font-size, 1.1rem);
    line-height: 1.8;
}

.prose-content h1,
.prose-content h2,
.prose-content h3 {
    margin-top: 1em;
    margin-bottom: 0.5em;
}

.prose-content p {
    margin-bottom: 1em;
}

.prose-content hr {
    border: 0;
    border-top: 1px solid #444;
    margin: 2em 0;
}

/* Material Override for dark input fields */
.mat-mdc-form-field-textarea-control {
    color: #e0e0e0 !important;
}

/* Force dark border colors for inputs */
.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,
.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,
.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing {
    border-color: rgba(255, 255, 255, 0.3) !important;
}

/* Global Scrollbar Styles */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: #121212 !important;
}

::-webkit-scrollbar-thumb {
    background-color: #424242 !important;
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background-color: #555 !important;
}

/* Global Markdown Styling */
markdown {
    overflow-wrap: break-word;
    word-wrap: break-word;

    pre {
        white-space: pre-wrap;
        word-break: break-all;
        background-color: var(--bg-surface-dark);
        padding: 12px;
        border-radius: 4px;
        border: 1px solid var(--border-color);
    }

    code {
        white-space: pre-wrap;
        word-break: break-all;
    }
}

/* File Viewer Dialog - match sidebar background */
.file-viewer-panel .mdc-dialog__surface {
    background-color: #1e1e1e;
}

/* Fullscreen Dialog Panel */
.fullscreen-dialog {
    max-width: 100vw !important;
    max-height: 100vh !important;
    width: 100vw !important;
    height: 100vh !important;

    .mdc-dialog__surface {
        max-width: 100vw !important;
        max-height: 100vh !important;
        width: 100vw !important;
        height: 100vh !important;
        border-radius: 0 !important;
        background-color: var(--bg-dialog) !important;
    }

    .mat-mdc-dialog-container {
        padding: 0 !important;
    }
}

/* File Viewer Dialog - Monaco Editor Layout (global for production build) */
.fullscreen-dialog app-file-viewer-dialog {
    display: flex;
    flex-direction: column;
    flex: 1;
    height: 100%;
    min-height: 0;

    .dialog-container {
        display: flex;
        flex-direction: column;
        height: 100%;
        min-height: 0;
    }

    .dialog-body {
        display: flex;
        flex: 1;
        min-height: 0;
        overflow: hidden;
    }

    .editor-container {
        flex: 1;
        min-width: 0;
        display: flex;
        flex-direction: column;
        overflow: hidden;

        app-monaco-editor {
            display: flex !important;
            flex: 1 1 auto !important;
            min-height: 0 !important;

            >div {
                display: flex !important;
                flex: 1 1 auto !important;
                min-height: 0 !important;
                height: 100% !important;
            }

            .monaco-editor {
                flex: 1 1 auto !important;
                min-height: 0 !important;
            }
        }
    }

    // Search match highlight
    .search-match-highlight {
        background-color: rgba(255, 211, 61, 0.4) !important;
        border: 1px solid rgba(255, 211, 61, 0.8);
        border-radius: 2px;
    }
}